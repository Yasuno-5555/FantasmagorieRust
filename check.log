cargo :     Checking fantasmagorie v0.1.0 (E:\Projects\FantasmagorieRust)
発生場所 行:1 文字:1
+ cargo check 2>&1 | Out-File -Encoding utf8 check.log
+ ~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (    Checking fa...tasmagorieRust) 
   :String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
warning: unused import: `crate::core::Vec2`
 --> src\view\animation.rs:4:5
  |
4 | use crate::core::Vec2;
  |     ^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `Duration`
  --> src\devtools\profiler.rs:10:17
   |
10 | use std::time::{Duration, Instant};
   |                 ^^^^^^^^

error[E0308]: mismatched types
   --> src\view\renderer.rs:304:29
    |
304 |     if current_font_size == 0.0 {
    |        -----------------    ^^^ expected `Cell<f32>`, found floating-poin
t number
    |        |
    |        expected because this is `std::cell::Cell<f32>`
    |
    = note: expected struct `std::cell::Cell<f32>`
                 found type `{float}`
help: call `Into::into` on this expression to convert `{float}` into `std::cell
::Cell<f32>`
    |
304 |     if current_font_size == 0.0.into() {
    |                                +++++++

error[E0308]: mismatched types
   --> src\view\renderer.rs:305:29
    |
299 |     let mut current_font_size = view.font_size;
    |                                 -------------- expected due to this value
...
305 |         current_font_size = 14.0;
    |                             ^^^^ expected `Cell<f32>`, found floating-poi
nt number
    |
    = note: expected struct `std::cell::Cell<f32>`
                 found type `{float}`
help: call `Into::into` on this expression to convert `{float}` into `std::cell
::Cell<f32>`
    |
305 |         current_font_size = 14.0.into();
    |                                 +++++++

error[E0369]: cannot multiply `std::cell::Cell<f32>` by `{float}`
   --> src\view\renderer.rs:308:41
    |
308 |     let line_height = current_font_size * 1.5;
    |                       ----------------- ^ --- {float}
    |                       |
    |                       std::cell::Cell<f32>
    |
note: the foreign item type `std::cell::Cell<f32>` doesn't implement `Mul<{floa
t}>`
   --> /rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234\library\core\src\cell.rs
:313:1
    |
    = note: not implement `Mul<{float}>`

error[E0308]: mismatched types
   --> src\view\renderer.rs:319:37
    |
299 |     let mut current_font_size = view.font_size;
    |                                 -------------- expected due to this value
...
319 |                 current_font_size = view.font_size.get() * scale;
    |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected
 `Cell<f32>`, found `f32`
    |
    = note: expected struct `std::cell::Cell<f32>`
                 found type `f32`
help: call `Into::into` on this expression to convert `f32` into `std::cell::Ce
ll<f32>`
    |
319 |                 current_font_size = (view.font_size.get() * scale).into()
;
    |                                     +                            ++++++++

error[E0308]: mismatched types
   --> src\view\renderer.rs:322:37
    |
299 |     let mut current_font_size = view.font_size;
    |                                 -------------- expected due to this value
...
322 |                 current_font_size = view.font_size.get();
    |                                     ^^^^^^^^^^^^^^^^^^^^ expected `Cell<f
32>`, found `f32`
    |
    = note: expected struct `std::cell::Cell<f32>`
                 found type `f32`
help: call `Into::into` on this expression to convert `f32` into `std::cell::Ce
ll<f32>`
    |
322 |                 current_font_size = view.font_size.get().into();
    |                                                         +++++++

error[E0308]: mismatched types
   --> src\view\renderer.rs:333:54
    |
333 |                  render_text_at(Vec2::new(x, y), &t, current_font_size, v
iew.fg_color.get(), dl);
    |                  --------------                      ^^^^^^^^^^^^^^^^^ ex
pected `f32`, found `Cell<f32>`
    |                  |
    |                  arguments to this function are incorrect
    |
    = note: expected type `f32`
             found struct `std::cell::Cell<f32>`
note: function defined here
   --> src\view\renderer.rs:259:4
    |
259 | fn render_text_at(pos: Vec2, text: &str, size: f32, color: ColorF, dl: &m
ut DrawList) {
    |    ^^^^^^^^^^^^^^                        ---------

error[E0308]: mismatched types
   --> src\view\renderer.rs:335:54
    |
335 |                     fm.borrow_mut().measure_text(&t, current_font_size)
    |                                     ------------     ^^^^^^^^^^^^^^^^^ ex
pected `f32`, found `Cell<f32>`
    |                                     |
    |                                     arguments to this method are incorrec
t
    |
    = note: expected type `f32`
             found struct `std::cell::Cell<f32>`
note: method defined here
   --> src\text\mod.rs:57:12
    |
 57 |     pub fn measure_text(&self, text: &str, size: f32) -> Vec2 {
    |            ^^^^^^^^^^^^                    ---------

warning: unused variable: `desc`
   --> src\core\undo.rs:243:17
    |
243 |             let desc = cmd.description().to_string();
    |                 ^^^^ help: if this is intentional, prefix it with an unde
rscore: `_desc`
    |
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by defau
lt

warning: unused variable: `desc`
   --> src\core\undo.rs:255:17
    |
255 |             let desc = cmd.description().to_string();
    |                 ^^^^ help: if this is intentional, prefix it with an unde
rscore: `_desc`

warning: variable does not need to be mutable
   --> src\view\renderer.rs:191:17
    |
191 |             let mut fm = fm.borrow_mut();
    |                 ----^^
    |                 |
    |                 help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `id`
  --> src\widgets\mod.rs:18:21
   |
18 |     pub fn id(self, id: impl Into<ID>) -> Self {
   |                     ^^ help: if this is intentional, prefix it with an und
erscore: `_id`

warning: variable does not need to be mutable
  --> src\text\markdown.rs:40:9
   |
40 |     let mut flush = |spans: &mut Vec<TextSpan>, in_bold: bool, in_italic: 
bool, buffer: &mut String| {
   |         ----^^^^^
   |         |
   |         help: remove this `mut`

warning: unused variable: `remainder`
  --> src\text\markdown.rs:89:17
   |
89 |             let remainder = &input[i..]; // Note: byte indexing vs char in
dexing mismatch risk here. 
   |                 ^^^^^^^^^ help: if this is intentional, prefix it with an 
underscore: `_remainder`

error[E0382]: borrow of moved value: `gl`
   --> src\backend\opengl.rs:427:29
    |
305 |     pub unsafe fn new(gl: glow::Context) -> Result<Self, String> {
    |                       -- move occurs because `gl` has type `glow::Context
`, which does not implement the `Copy` trait
...
407 |             gl,
    |             -- value moved here
...
427 |             ping_pong_fbo: [gl.create_framebuffer()?, gl.create_framebuff
er()?],
    |                             ^^ value borrowed here after move

warning: unused variable: `rect_loc`
   --> src\backend\opengl.rs:340:13
    |
340 |         let rect_loc = gl.get_uniform_location(program, "u_rect");
    |             ^^^^^^^^ help: if this is intentional, prefix it with an unde
rscore: `_rect_loc`

warning: unused variable: `radii_loc`
   --> src\backend\opengl.rs:341:13
    |
341 |         let radii_loc = gl.get_uniform_location(program, "u_radii");
    |             ^^^^^^^^^ help: if this is intentional, prefix it with an und
erscore: `_radii_loc`

warning: unused variable: `border_width_loc`
   --> src\backend\opengl.rs:342:13
    |
342 |         let border_width_loc = gl.get_uniform_location(program, "u_border
_width");
    |             ^^^^^^^^^^^^^^^^ help: if this is intentional, prefix it with
 an underscore: `_border_width_loc`

warning: unused variable: `border_color_loc`
   --> src\backend\opengl.rs:343:13
    |
343 |         let border_color_loc = gl.get_uniform_location(program, "u_border
_color");
    |             ^^^^^^^^^^^^^^^^ help: if this is intentional, prefix it with
 an underscore: `_border_color_loc`

warning: unused variable: `elevation_loc`
   --> src\backend\opengl.rs:344:13
    |
344 |         let elevation_loc = gl.get_uniform_location(program, "u_elevation
");
    |             ^^^^^^^^^^^^^ help: if this is intentional, prefix it with an
 underscore: `_elevation_loc`

warning: unused variable: `glow_strength_loc`
   --> src\backend\opengl.rs:345:13
    |
345 |         let glow_strength_loc = gl.get_uniform_location(program, "u_glow_
strength");
    |             ^^^^^^^^^^^^^^^^^ help: if this is intentional, prefix it wit
h an underscore: `_glow_strength_loc`

warning: unused variable: `glow_color_loc`
   --> src\backend\opengl.rs:346:13
    |
346 |         let glow_color_loc = gl.get_uniform_location(program, "u_glow_col
or");
    |             ^^^^^^^^^^^^^^ help: if this is intentional, prefix it with a
n underscore: `_glow_color_loc`

warning: unused variable: `is_squircle_loc`
   --> src\backend\opengl.rs:347:13
    |
347 |         let is_squircle_loc = gl.get_uniform_location(program, "u_is_squi
rcle");
    |             ^^^^^^^^^^^^^^^ help: if this is intentional, prefix it with 
an underscore: `_is_squircle_loc`

warning: unused variable: `offset_loc`
   --> src\backend\opengl.rs:348:13
    |
348 |         let offset_loc = gl.get_uniform_location(program, "u_offset");
    |             ^^^^^^^^^^ help: if this is intentional, prefix it with an un
derscore: `_offset_loc`

warning: unused variable: `scale_loc`
   --> src\backend\opengl.rs:349:13
    |
349 |         let scale_loc = gl.get_uniform_location(program, "u_scale");
    |             ^^^^^^^^^ help: if this is intentional, prefix it with an und
erscore: `_scale_loc`

warning: unreachable pattern
   --> src\backend\opengl.rs:810:13
    |
810 |             _ => {}
    |             ^ no value can reach this
    |
note: multiple earlier patterns match some of the same values
   --> src\backend\opengl.rs:810:13
    |
542 |             DrawCommand::PushClip { pos, size } => {
    |             ----------------------------------- matches some of the same 
values
...
547 |             DrawCommand::PopClip => {
    |             -------------------- matches some of the same values
...
550 |             DrawCommand::PushTransform { offset, scale } => {
    |             -------------------------------------------- matches some of 
the same values
...
554 |             DrawCommand::PopTransform => {
    |             ------------------------- matches some of the same values
...
810 |             _ => {}
    |             ^ ...and 9 other patterns collectively make this unreachable
    = note: `#[warn(unreachable_patterns)]` (part of `#[warn(unused)]`) on by d
efault

warning: unused variable: `passes`
   --> src\backend\opengl.rs:643:21
    |
643 |                 let passes = (*sigma as i32).clamp(1, 8);
    |                     ^^^^^^ help: if this is intentional, prefix it with a
n underscore: `_passes`

warning: unused variable: `uv_scale`
   --> src\backend\opengl.rs:644:21
    |
644 |                 let uv_scale = Vec2::new(1.0 / w as f32, 1.0 / h as f32);
    |                     ^^^^^^^^ help: if this is intentional, prefix it with
 an underscore: `_uv_scale`

Some errors have detailed explanations: E0308, E0369, E0382.
For more information about an error, try `rustc --explain E0308`.
warning: `fantasmagorie` (lib) generated 21 warnings
error: could not compile `fantasmagorie` (lib) due to 8 previous errors; 21 war
nings emitted
